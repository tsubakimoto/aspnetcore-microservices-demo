# ToDoアプリケーション 設計書一覧

## 概要

本ディレクトリには、ASP.NET Coreを用いたマイクロサービスアーキテクチャによるToDoアプリケーションの包括的な設計書を格納しています。

## 設計書構成

### 📋 [メイン設計書](./todo-app-design.md)
- **内容**: システム全体の概要、要件、アーキテクチャ
- **対象読者**: プロジェクトマネージャー、アーキテクト、開発チーム全体
- **更新頻度**: プロジェクト初期、アーキテクチャ変更時

### 🔌 [API 仕様書](./api-specification.md)
- **内容**: RESTful API の詳細仕様、エンドポイント、リクエスト/レスポンス形式
- **対象読者**: フロントエンド開発者、API開発者、テスター
- **更新頻度**: API変更時、新機能追加時

### 🗄️ [データベース設計書](./database-design.md)
- **内容**: テーブル設計、インデックス、ストアドプロシージャ、セキュリティ設定
- **対象読者**: データベース管理者、バックエンド開発者
- **更新頻度**: スキーマ変更時、新テーブル追加時

### ☁️ [Azure インフラストラクチャ設計書](./azure-infrastructure.md)
- **内容**: Azure リソース構成、ネットワーク設計、セキュリティ設定、運用設計
- **対象読者**: インフラエンジニア、DevOpsエンジニア、運用チーム
- **更新頻度**: インフラ変更時、スケーリング要件変更時

## 技術スタック

### フレームワーク・ランタイム
- **ASP.NET Core 9.0**: Web API フレームワーク
- **.NET 9.0**: ランタイム
- **Entity Framework Core**: ORM
- **MediatR**: CQRS パターン実装

### データベース
- **SQL Server 2025**: メインデータベース
- **Azure SQL Database**: クラウドデータベース
- **Redis**: キャッシュ、セッション管理

### クラウドサービス (Azure)
- **Azure App Service**: ホスティング
- **Azure SQL Database**: マネージドデータベース
- **Azure Blob Storage**: ファイルストレージ
- **Azure Key Vault**: シークレット管理
- **Azure Application Insights**: 監視
- **Azure API Management**: API ゲートウェイ

### 開発・運用ツール
- **Docker**: コンテナ化
- **Azure DevOps**: CI/CD パイプライン
- **SonarQube**: コード品質分析
- **Swagger/OpenAPI**: API ドキュメント生成

## アーキテクチャパターン

### マイクロサービスアーキテクチャ
- **Task Service**: タスク管理
- **Label Service**: ラベル管理  
- **File Service**: ファイル管理
- **User Service**: ユーザー管理

### 設計パターン
- **Domain-Driven Design (DDD)**: ドメイン駆動設計
- **Command Query Responsibility Segregation (CQRS)**: 読み書き分離
- **Event Sourcing**: イベントソーシング
- **Repository Pattern**: データアクセス抽象化

## 機能概要

### ✅ タスク管理
- タスクの作成、更新、削除（論理削除）
- ステータス管理（未完了/完了）
- 期日設定
- 添付ファイル対応

### 🏷️ ラベル管理
- ラベルの作成、更新、削除
- 色分け機能
- タスクへのラベル付与

### 📄 ファイル管理
- ファイルのアップロード/ダウンロード
- 対応形式: 画像、PDF、Office文書
- Azure Blob Storageによる管理

### 👥 ユーザー管理
- Microsoft Entra ID による認証
- ロールベースアクセス制御 (RBAC)
- ユーザープロファイル管理

## 非機能要件

### パフォーマンス
- **応答時間**: 95%のリクエストが2秒以内
- **スループット**: 1000リクエスト/秒
- **同時接続数**: 500ユーザー

### 可用性
- **稼働率**: 99.5%以上
- **RTO**: 4時間以内
- **RPO**: 1時間以内

### セキュリティ
- **認証**: Microsoft Entra ID
- **データ暗号化**: 転送時・保存時
- **監査ログ**: 全API操作の記録

## ドキュメント管理

### バージョン管理
- Git でのバージョン管理
- メジャー変更時にタグ付け
- 変更履歴をコミットメッセージで管理

### レビュープロセス
1. **作成者**: 初稿作成
2. **技術レビュー**: アーキテクト、リードエンジニアによるレビュー
3. **承認**: プロジェクトマネージャーによる最終承認
4. **公開**: チーム全体への共有

### 更新トリガー
- **要件変更**: 機能追加、変更時
- **技術変更**: フレームワーク、ライブラリ更新時
- **インフラ変更**: Azure リソース変更時
- **セキュリティ要件変更**: セキュリティポリシー更新時

## 関連リンク

### 外部ドキュメント
- [ASP.NET Core ドキュメント](https://learn.microsoft.com/aspnet/core/)
- [Azure ドキュメント](https://learn.microsoft.com/azure/)
- [Entity Framework Core ドキュメント](https://learn.microsoft.com/ef/core/)

### 内部リソース
- プロジェクト Wiki: `https://dev.azure.com/todoapp/wiki`
- API ドキュメント: `https://api.todoapp.com/swagger`
- 運用手順書: `docs/operations/`

## 注意事項

### セキュリティ
- 本設計書には機密情報は含まれていませんが、実装時は適切なシークレット管理を行ってください
- 接続文字列、APIキーなどは Azure Key Vault で管理してください

### 運用
- 本設計書は開発開始時点での設計であり、実装過程で変更される可能性があります
- 変更時は必ず設計書も更新してください

### ライセンス
- 本プロジェクトはデモンストレーション目的で作成されています
- 商用利用時は適切なライセンスを確認してください

---

**最終更新**: 2024年1月  
**バージョン**: 1.0  
**管理者**: ASP.NET Core マイクロサービス開発チーム